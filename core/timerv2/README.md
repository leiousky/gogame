# 时间轮定时器
协程安全的timer
## 1.时钟原理说明：
#####1.1. 初始化一个三层时间轮:秒刻盘：0~59个节点, 分刻盘：0~59个节点, 时刻盘：0~12个节点;
#####1.2. 秒针由外界推动,每次循环为200毫秒，5次循环跳动一秒针，每跳一轮(60格),秒针复位至0,同时分针跳1格;
#####1.3. 同理分针每跳一轮(60格),分针复位至0,同时时针跳1格;
#####1.4. 最高层：时针跳一轮(12格）,时针复位至0，一个时间轮完整周期完成.
## 2.事件原理说明：
#####2.1. 设置时间为TimeOut的事件时,根据TimeOut算出发生此事件时刻的指针位置{TriggerHour,TriggerMin,TriggerSec};
#####2.2. 用{TriggerHour,TriggerMin,TriggerSec}与当前指针{NowHour,NowMin,NowSec}转换成系统毫米进行对比得出事件存放在哪一个指针(Tick);
#####2.3. 所有层的指针每跳到下一格(Tick01)都会触发格子的事件列表,处理每一个事件Event01：
######2.3.1 根据事件Event01的剩余TimeOut算出Event01应该存在上一层(跳得更快)层的位置Pos;
######2.3.2 把事件更新到新的Pos(更新TimeOut);
######2.3.3 重复处理完Tick01里面所有的事件;
######2.3.4 清空Tick01的事件;
######2.3.5 最底层(跳最快)层所有的事件遇到指针Tick都会立即执行;

# Cron任务详解
### Cron命令举个例子
- 每隔5秒执行一次：*/5 * * * * ?
- 每隔1分钟执行一次：0 */1 * * * ?
- 每天23点执行一次：0 0 23 * * ?
- 每天凌晨1点执行一次：0 0 1 * * ?
- 每月1号凌晨1点执行一次：0 0 1 1 * ?
- 每月最后一天23点执行一次：0 0 23 L * ?
- 每周星期天凌晨1点实行一次：0 0 1 ? * L
- 在26分、29分、33分执行一次：0 26,29,33 * * * ?
- 每天的0点、13点、18点、21点都执行一次：0 0 0,13,18,21 * * ?
### Cron 基本使用方法
NewSafeTimerScheduel()的时候会一起初始化Cron任务执行器  
#### 创建一个cron 任务
`CreatCronFunc(spec string, cmd func()) (uint32, error)`
此方法会创建一个定时任务  
返回的uint32 表示 次cron任务的id，可用于取消此任务  
**PS: 此处的cronid 和 `CreateTimer` 产生的id有可能重复，所以在保存的时候应该分开保存**
#### 删除一个cron 任务
` DelCronFunc(cronId uint32)`

## 目前只有这2个方法

# 参考文献
[cron引用库v3版](https://github.com/robfig/cron)
[cron语法检查,与我们的愈发后5位一致](https://crongtab.guru)
